













<!DOCTYPE html>
<html style="overflow-x:auto;overflow-y:auto;">
<head>
	<title>待出库列表 - Powered ZTDS</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta name="author" content="http://jeesite.com/"/>
<meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10" />
<meta http-equiv="Expires" content="0"><meta http-equiv="Cache-Control" content="no-cache"><meta http-equiv="Cache-Control" content="no-store">
<!-- [扩展JS] 
<script type="text/javascript" src="/static/extJs.js" charset="utf-8"></script>-->

<script src="/static/jquery/jquery-1.8.3.min.js" type="text/javascript"></script>

<!-- [EasyUI]
<link id="easyuiTheme" rel="stylesheet" type="text/css" href="/static/easyui/themes/gray/easyui.css" /> -->
<link id="easyuiTheme" rel="stylesheet" type="text/css" href="/static/easyui/themes/icon.css" />
<link rel="stylesheet" type="text/css" href="/static/easyui/EasyUI/easyui.css" />
<script type="text/javascript" src="/static/easyui/jquery.easyui.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/easyui/locale/easyui-lang-zh_CN.js" charset="utf-8"></script>



<link href="/static/bootstrap/2.3.1/css_cerulean/bootstrap.css" type="text/css" rel="stylesheet" />
<script src="/static/bootstrap/2.3.1/js/bootstrap.js" type="text/javascript"></script>
<link href="/static/bootstrap/2.3.1/awesome/font-awesome.min.css" type="text/css" rel="stylesheet" />
<!--[if lte IE 7]><link href="/static/bootstrap/2.3.1/awesome/font-awesome-ie7.min.css" type="text/css" rel="stylesheet" /><![endif]-->
<!--[if lte IE 6]><link href="/static/bootstrap/bsie/css/bootstrap-ie6.min.css" type="text/css" rel="stylesheet" />
<script src="/static/bootstrap/bsie/js/bootstrap-ie.min.js" type="text/javascript"></script><![endif]-->
<link href="/static/jquery-select2/3.4/select2.css" rel="stylesheet" />
<script src="/static/jquery-select2/3.4/select2.min.js" type="text/javascript"></script>
<script src="/static/jquery-select2/3.4/linkage.js" type="text/javascript"></script>
<link href="/static/jquery-validation/1.11.0/jquery.validate.min.css" type="text/css" rel="stylesheet" />
<script src="/static/jquery-validation/1.11.0/jquery.validate.min.js" type="text/javascript"></script>
<script src="/static/jquery-validation/1.11.0/additional-methods.js" type="text/javascript"></script>
<link href="/static/jquery-jbox/2.3/Skins/Bootstrap/jbox.min.css" rel="stylesheet" />
<script src="/static/jquery-jbox/2.3/jquery.jBox-2.3.min.js" type="text/javascript"></script>
<script src="/static/My97DatePicker/WdatePicker.js" type="text/javascript"></script>

<script src="/static/common/mustache.min.js" type="text/javascript"></script>
<link href="/static/common/zmd.css" type="text/css" rel="stylesheet" />
<script src="/static/common/zmd.min.js" type="text/javascript"></script>
<script type="text/javascript">var ctx = '/a', ctxStatic='/static',ctxDownload = '/download',upload_completed=0,
tabmode = 1;
</script>

<link href="/static/bootstrap/2.3.1/css_cerulean/fixed_table_rc.css" type="text/css" rel="stylesheet" />
<script src="/static/bootstrap/2.3.1/js/fixed_table_rc.js" type="text/javascript"></script>
<script src="/static/moduleCommon/ganged.js" type="text/javascript"></script>
<script src="/static/moduleCommon/hrefTab.js" type="text/javascript"></script>
<link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon" />
<script src="/static/moduleCommon/setPageNum.js" type="text/javascript"></script>
<script src="/static/moduleCommon/trHighLight.js" type="text/javascript"></script>
		
	
	
	<meta name="decorator" content="default"/>
	<style type="text/css">.table-striped tbody>tr.editing{    background-color: rgb(170, 201, 255);}
	.table-striped tbody>tr>td{white-space:nowrap}
	
	</style>
	<script type="text/javascript">
	    $(document).ready(function() {
		
		});
		
		//出库实提
		function realOutput(){
			var sendId = $("input[name='sendRadio']:checked").val();
			if(sendId == null || sendId == '') {
				$.jBox.error('请至少选择一条数据进行操作！', '提示信息');
				return false;
			}
			$.get("/a/send/proSend/checkSendStatus?id="+sendId,function(data){
				if(data.status || data.msg=='该发货单已生成有效排号数据'){
					//  多页签模式
					top.$.fn.jerichoTab.addTab({
						title:"出库实提",
						closeable:true,
						data: {
							dataType: 'iframe',
							dataLink: "/a/output/proOutput/form?id="+ sendId 
						}
					}).loadData(true);  
					//
					// 
				}else {
					$.jBox.error(data.msg+" 不能实提！", '警告信息');
				}
			}); 			
		}
		
		function resetForm(){
			$("#ownerId").val('');
			$("#ownerId").select2('data','');
			$("#warehouseId").val('');
			$("#warehouseId").select2('data','');
			$("#sendCode").val("");
			$("#ladingCode").val("");
			$("#carPlateNo").val("");
			$("#beginDate").val("");
			$("#endDate").val("");
		}
		
		function page(n,s){
			$("#pageNo").val(n);
			$("#pageSize").val(s);
			$("#searchForm").attr("action","/a/send/proSend/outputList");
			$("#searchForm").submit();
        	return false;
        }
		
		function changeDate(){
			var beginDate = $("#beginDate").val();
			var endDate = $("#endDate").val();
			if(beginDate != ""&&endDate != ""){
				if(beginDate > endDate){
					alert("开始日期不能大于结束日期！");
					return false;
				}else{
					return true;
				}
			}else{
				return true;
			}
		}

	</script>

</head>
<body>
	
<div class="bg_white_10">
    <ul class="nav nav-tabs">
    	
		<li class="active"><a href="/a/send/proSend/outputList">待出库列表</a></li>
		
		
		<li><a href="/a/send/proSend/sendList">待实提列表</a></li>
		
		
		<li><a href="/a/output/proOutputConfirm/list">待实提确认</a></li>
		
		
		<li ><a href="/a/output/proOutput/list">出库单列表</a></li>
		
	</ul>
	
	<div>
	<form id="searchForm" class="breadcrumb form-search" action="/a/send/proSend/outputList" method="post">
		<input id="pageNo" name="pageNo" type="hidden" value="1"/>
		<input id="pageSize" name="pageSize" type="hidden" value="10"/>
		<table class="searchui">
			<tr>
				<th>发货时间：</th>
		        <td>
	            	<input name="beginDate" type="text" style="text-align:left;width:130px;" class="input-mini Wdate" maxlength="50" id="beginDate" 
				     size="16" value="2020-11-16 00:00" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm',isShowClear:false,readOnly:true})" onchange="changeDate();"/>
					 -- <input name="endDate" maxlength="50" type="text" style="text-align:left;width:130px;" class="input-mini Wdate" 
					id="endDate" size="16" value="2020-12-16 23:59" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm',isShowClear:false,readOnly:true})" onchange="changeDate();" />
		        </td>
		        <th>发货单号：</th>
		        <td><input id="sendCode" name="sendCode" class="input-medium" type="text" value="" maxlength="20"/></td>
		        <th>提单号：</th>
		        <td><input id="ladingCode" name="ladingCode" class="input-medium" type="text" value="" maxlength="20"/></td>
		        <th>货主单位：</th>
		        <td>
		        	<input id="ownerId" name="ownerId" delayedSrc="/a/sys/sysCustomer/getCustomerNameJson" class="input-large delay" delayedMinInput="0" dataFunc="buildAllCustomerParams" type="text" value="3271"/>
		        </td>
		         		        
			</tr>
			<tr>
			    <th>车牌号：</th>
		        <td><input id="carPlateNo" name="carPlateNo" class="input-medium" type="text" value="" maxlength="20"/></td>		        
		        <th>仓库：</th>
			    <td>
		         	<input id="warehouseId" name="warehouseId" delayedSrc="/a/sys/sysWarehouse/getWarehouseNameJson" class="input-large delay" delayedMinInput="0" dataFunc="buildAllWarehouseParams1" type="text" value="122"/>
		        </td>
		        <td>
	            	<input id="btnSubmit" class="btn btn-primary" type="submit" onclick="return page();" value="搜索"/>
					<input  class="btn" type="button" onclick="resetForm()"  value="清空"/>
	            </td>	
			</tr>
		</table>
	</form>
	<div class="m10 ml0">
	
		<input id="btnSubmit" class="btn btn-primary" type="button"  value="出库实提" onclick="realOutput();"/>
	
	</div>
	














<script type="text/javascript">top.$.jBox.closeTip();</script>

	<div style="overflow-x: scroll;">
	<table id="contentTable" class="table table-striped table-bordered table-condensed">
		<thead>
			<tr>
			  <th>序</th>
		      <th>选择</th>
		      <th>发货单号</th>
		      <th>发货时间</th>
		      <th>提单号</th>		      
		      <th>货主单位</th>		      
		      <th style="text-align:right">应发数量</th>
		      <th style="text-align:right">应发重量</th>		      
		      <th>提货单位</th>
		      <th>提货人</th>
		      <th>提货车号</th>
		      <th>证件号</th>
		      <th>制单员</th>
		      <th>仓库</th>
			</tr>
		</thead>
		<tbody>
		
			<tr>
				<td>1</td>
				<td><input type="radio" name="sendRadio" value="65223" /></td>
				<td>
					<a href="javascript:addTabPage('发货单详情','/a/send/proSend/proSendDetails?id=65223')">FH20121860336</a>	
				</td>
				<td>2020-12-16 00:01</td>	
				<td>AutoTest</td>				
				<td>测试公司</td>
				<td style="text-align:right">2</td>
				<td style="text-align:right">2.0</td>
				<td>测试公司</td>
				<td>唐顺意</td>
				<td>湘D666666</td>
				<td>430482199711270371</td>							
				<td>自动化测试</td>
				<td>测试仓库</td>
			</tr>
		
			<tr>
				<td>2</td>
				<td><input type="radio" name="sendRadio" value="65222" /></td>
				<td>
					<a href="javascript:addTabPage('发货单详情','/a/send/proSend/proSendDetails?id=65222')">FH20121860335</a>	
				</td>
				<td>2020-12-16 00:01</td>	
				<td>AutoTest</td>				
				<td>测试公司</td>
				<td style="text-align:right">2</td>
				<td style="text-align:right">2.0</td>
				<td>测试公司</td>
				<td>唐顺意</td>
				<td>湘D666666</td>
				<td>430482199711270371</td>							
				<td>自动化测试</td>
				<td>测试仓库</td>
			</tr>
		
		</tbody>
	</table>
	</div>
	<div class="pagination"><ul>
<li class="disabled"><a href="javascript:">&#171; 上一页</a></li>
<li class="active"><a href="javascript:">1</a></li>
<li class="disabled"><a href="javascript:">下一页 &#187;</a></li>
<li class="disabled controls"><a href="javascript:">当前 <input type="text" value="1" onkeypress="var e=window.event||this;var c=e.keyCode||e.which;if(c==13)page(this.value,10,'');" onclick="this.select();"/> / <input type="text" value="10" onkeypress="var e=window.event||this;var c=e.keyCode||e.which;if(c==13)page(1,this.value,'');" onclick="this.select();"/> 条，共 2 条</a></li>
</ul>
<label class="setShowTrNumText">每页显示:</label><input class="setShowTrNum" type="text" onfocus="changeShowNum(this)"><label class="setShowTrNumText" style="padding-left:2px;">条</label><input type="button" onclick="changeShowNum(this)" class="btn setShowTrNumBtn" value="修改"><div style="clear:both;"></div></div>
	</div>
</div>

	<script type="text/javascript">//<!-- 无框架时，左上角显示菜单图标按钮。
		if(!(self.frameElement && self.frameElement.tagName=="IFRAME")){
			$("body").prepend("<i id=\"btnMenu\" class=\"icon-th-list\" style=\"cursor:pointer;float:right;margin:10px;\"></i><div id=\"menuContent\"></div>");
			$("#btnMenu").click(function(){
				top.$.jBox('get:/a/sys/menu/treeselect;JSESSIONID=92189d2586a34a2697ba9bffc58fbb0b', {title:'选择菜单', buttons:{'关闭':true}, width:300, height: 350, top:10});
				//if ($("#menuContent").html()==""){$.get("/a/sys/menu/treeselect", function(data){$("#menuContent").html(data);});}else{$("#menuContent").toggle(100);}
			});
		}//-->
	</script>
</body>
</html>